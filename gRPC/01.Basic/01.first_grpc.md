## **1. Project Setup**

Create a new project folder:

```bash
mkdir grpc-hello
cd grpc-hello
npm init -y
npm install @grpc/grpc-js @grpc/proto-loader
```

---

## **2. greeter.proto**

Inside the folder, create `greeter.proto`:

```proto
syntax = "proto3";

package greeter;

// Request message
message HelloRequest {
  string name = 1;
}

// Response message
message HelloReply {
  string message = 1;
}

// Service definition
service Greeter {
  rpc SayHello (HelloRequest) returns (HelloReply);
}
```

---

## **3. server.js**

This is the server that implements the `SayHello` method:

```js
import * as grpc from '@grpc/grpc-js';
import * as protoLoader from '@grpc/proto-loader';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const PROTO_PATH = path.join(__dirname, "greeter.proto");

// Load .proto file
const packageDef = protoLoader.loadSync(PROTO_PATH, {});
const grpcObject = grpc.loadPackageDefinition(packageDef);
const greeterPackage = grpcObject.greeter;

// Implement service logic
function SayHello(call, callback) {
  const user = call.request.name;
  const reply = { message: `Hello, ${user}!` };
  callback(null, reply);
}

// Create and start server
const server = new grpc.Server();
server.addService(greeterPackage.Greeter.service, { SayHello });

server.bindAsync(
  "0.0.0.0:50051",
  grpc.ServerCredentials.createInsecure(),
  () => {
    console.log("✅ gRPC server running on port 50051");
    server.start();
  }
);
```

---

## **4. client.js**

The client connects and calls the server’s method:

```js
import * as grpc from '@grpc/grpc-js';
import * as protoLoader from '@grpc/proto-loader';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const PROTO_PATH = path.join(__dirname, "greeter.proto");

// Load .proto file
const packageDef = protoLoader.loadSync(PROTO_PATH, {});
const grpcObject = grpc.loadPackageDefinition(packageDef);
const greeterPackage = grpcObject.greeter;

// Create client
const client = new greeterPackage.Greeter(
  "localhost:50051",
  grpc.credentials.createInsecure()
);

// Make request
client.SayHello({ name: "Alice" }, (err, response) => {
  if (err) {
    console.error("Error:", err);
  } else {
    console.log("✅ Server Response:", response.message);
  }
});
```

---

## **5. Running It**

Open two terminals:

**Terminal 1 (start server):**

```bash
node server.js
```

You’ll see:

```
✅ gRPC server running on port 50051
```

**Terminal 2 (run client):**

```bash
node client.js
```

You’ll see:

```
✅ Server Response: Hello, Alice!
```

---

### **Key Notes**

* The `.proto` file defines both the **data structures** and the **service contract**.
* The server registers an implementation of the contract.
* The client just calls methods like normal functions—the heavy lifting (serialization, networking, parsing) is hidden.

---